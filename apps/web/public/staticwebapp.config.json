{
  "platform": { "apiRuntime": "node:20" },
  "navigationFallback": {
    "rewrite": "/index.html",
    "exclude": ["/api/*","/assets/*","/*.css","/*.js","/*.ico","/*.png","/*.svg","/*.webp","/*.txt","/*.xml","/*.woff","/*.woff2","/*.ttf"]
  },
  "routes": [
    { "route": "/api/votes", "allowedRoles": ["anonymous"] },
    { "route": "/api/*",     "allowedRoles": ["authenticated"] }
  ],
  "responseOverrides": {
    "401": { "redirect": "/.auth/login/github?post_login_redirect_uri=/" }
  }
}
